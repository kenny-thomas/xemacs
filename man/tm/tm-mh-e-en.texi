\input texinfo.tex
@setfilename tm-mh-e-en.info
@settitle{tm-mh-e 7.71 Reference Manual (English Version)}
@titlepage
@title tm-mh-e 7.71 Reference Manual (English Version)
@author MORIOKA Tomohiko <morioka@@jaist.ac.jp>
@subtitle 1996/10/15
@end titlepage
@node Top, Introduction, (dir), (dir)
@top tm-mh-e 7.71 Reference Manual (English Version)

@ifinfo

This file documents tm-mh-e, a MIME extension for GNUS.
@end ifinfo

@menu
* Introduction::                What is tm-mh-e?
* mh-folder-mode::              Extension for MH-Folder mode
* Automatic MIME Preview::      Inline display for MIME message
* mule::                        Internationalization
* MIME-Edit::                   Composing MIME message
* Concept Index::               
* Variable Index::              
@end menu

@node Introduction, mh-folder-mode, Top, Top
@chapter What is tm-mh-e?
@cindex tm-mh-e

@strong{tm-mh-e} is a mh-e (@ref{(mh-e)}) extender to use MIME
(@ref{(tm-en)MIME}) feature using tm (@ref{(tm-en)tm-kernel}).@refill

tm-mh-e extends following features:

@itemize @bullet
@item
automatic MIME preview using tm-view (@ref{(tm-view-en)})
@item
composing MIME message using tm-edit (@ref{(tm-edit-en)})
@end itemize



@node mh-folder-mode, Automatic MIME Preview, Introduction, Top
@chapter Extension for MH-Folder mode

@table @kbd
@item @key{M-t}
Toggle whether to do automatic MIME preview or not.

@item @key{v}
Enter @code{mime/viewer-mode} to view a message.

@item @key{.}
Display current message.

@item @key{,}
Display current message with showing all fields.

@item @key{M-,}
Display current ``raw'' message.

@end table


mime/viewer-mode (@ref{(tm-view-en)mime/viewer-mode}) is a major-mode to
view and navigate MIME message.  In this mode, you can move in a message
or play a content, interactively.


@node Automatic MIME Preview, mule, mh-folder-mode, Top
@chapter Inline display for MIME message
@cindex XEmacs
@cindex automatic MIME preview

@strong{automatic MIME preview} feature is available in tm-mh-e.  In
automatic MIME preview mode, when reading an article in MH-Folder mode
(@ref{(mh-e)Reading Mail}), tm-mh-e displays preview buffer processed by
tm-view (@ref{(tm-view-en)}) instead of raw show buffer.@refill

Therefore if an article is encoded by Base64 (@ref{(tm-en)Base64}) or
Quoted-Printable (@ref{(tm-en)Quoted-Printable}), a decoded article is
displayed.  Or rich text article, such as text/enriched
(@ref{(tm-en)text/enriched}) format, is automatic formated.  Of course,
multipart (@ref{(tm-en)multipart}) article is dealt with
correctly.@refill

In addition, in @strong{XEmacs}, images are displayed in preview buffer
as same as text.@refill

Different from using metamail, speaker does not roar just then read an
article includes audio content, video player does not play just then
read an article includes video content, it does not do anonymous ftp
(@ref{(tm-en)ftp}) or send mail when read an article includes
external-message.  These contents are played when you do decoding
command in preview buffer.@refill

However if you use a slow machine, or are just really impatient, you
can stop automatic MIME preview.


@defvar tm-mh-e/automatic-mime-preview

If it is not @code{nil}, tm-mh-e is in automatic MIME preview mode.
@end defvar



@node mule, MIME-Edit, Automatic MIME Preview, Top
@chapter Internationalization

For emacs variants includes mule feature, such as MULE
(@ref{(tm-en)MULE}), XEmacs/mule and Emacs/mule(*1), tm-mh-e supports
code-conversion by MIME charset (@ref{(tm-en)MIME charset}).

@noindent
@strong{[Memo]}
@quotation
(*1) It means next generation of Emacs includes mule features.  Now
(October 1996), HANDA Ken'ichi and RMS are developing it.
@end quotation


Detail of code conversion is following:

@enumerate
@item
If a part of a MIME message has charset parameter of Content-Type field
(@ref{(tm-en)Content-Type field}), it is code-converted by the MIME
charset.
@item
encoded-word (@ref{(tm-en)encoded-word}) are code-converted by their
specified MIME charset (@ref{(tm-en)MIME charset}).
@item
When there are no specified MIME charset, such as message header
or non-MIME message, they are code-converted by
@code{default-mime-charset} in Summary Buffer.
@end enumerate



@menu
* evil environment::            Don't use MIME charset
@end menu

@node evil environment,  , mule, mule
@section Don't use MIME charset

If MTA (@ref{(tm-en)MTA}) convert character encoding of messages from
network code to local code, such as EUC or Shift_JIS, MIME charset does
not work, so tm-mh-e can not display correct message.  It is quite evil
environment.  It does not break only MIME charset, but also electric
signature by PGP.@refill

If you can manage your environment, you should fix it.  Otherwise you
should persuade the administration.@refill

Unfortunately you are in such environment and you can not it,
following descriptions may be available.


@subsection for non-MIME message or non-charset

For non-MIME message, please set the character encoding to variable
@code{default-mime-charset}.  For example, if you use Japanese EUC:

@lisp
(setq default-mime-charset 'euc-japan)
@end lisp



@subsection To disable MIME charset

If for a text part specified MIME charset (@ref{(tm-en)MIME charset}),
one way is to set variable @code{mime-charset-coding-system-alist} to
specify the coding-system corresponding the primary MIME charset.  For
example, to specify @code{*sjis*} or @code{*euc-japan*} as
@code{iso-2022-jp}.  However it breaks texts encoded by Base64 or
Quoted-Printable.@refill

So it is better to redefine function
@code{tm-mh-e/decode-charset-buffer}.  For example, if your MTA
converts iso-2022-jp to Japanese EUC, following definition may work:

@lisp
(defun tm-mh-e/decode-charset-buffer (charset &optional encoding)
  (decode-mime-charset-region (point-min)(point-max) 'euc-japan)
  )
@end lisp



@node MIME-Edit, Concept Index, mule, Top
@chapter Composing MIME message

If using mime-setup (@ref{(tm-en)mime-setup}), you can edit MIME message
in MH-Letter mode (@ref{(mh-e)Draft Editing}) using tm-edit
(@ref{(tm-edit-en)}).@refill

In addition, @kbd{f} is used for message/rfc822
(@ref{(tm-en)message/rfc822}) style forwarding instead of RFC 934
(@ref{(tm-en)RFC 934}) style forwarding.


@node Concept Index, Variable Index, MIME-Edit, Top
@chapter Concept Index

@printindex cp

@node Variable Index,  , Concept Index, Top
@chapter Variable Index

@printindex vr
@bye
