1997-12-26  Kirill M. Katsnelson  <kkm@kis.ru>

	* xemacs.mak: added menubar-msw.c, menubar.c

	* xemacs.mak: scrollabrs and menubars are rearranged properly
	  under different ifdef'd secions, so for example menubar.obj goes
	  to always compiled section, and menubar-msw.obj is built only when
	  HAVE_MSW.

	* xemacs.mak: Compiler warning flag definition moved to a macro
	  CPP_WARN_FLAGS. Redefined from -w to -W3 (Doh!).

1997-12-11  David Hobley <davidh@wr.com.au>

        * Added support for auto generation of puresize-adjust.h
	  in xemacs.mak. Also created new file puresize-adjust.h to copy
 	  into src on initial build.

Mon December 08 1997 kkm@kis.ru

	* xemacs.mak: added profile.c, removed event-unixod.c
	* xemacs.mak: removed dangerous defines _IX_86, _X86_,
	  _MSC_VER
	* config.h: removed #define HAVE_UNIXOID_EVENT_LOOP

Thu December 04 1997 jhar@tardis.ed.ac.uk
	
	* xemacs.mak: Define DEBUG_XEMACS when compiling with debug.

Tue November 29 12:29:33 1997 davidh

	* xemacs.mak and config.h updated to provide ability to
	  specify DEBUG mode from the xemacs.mak file.

Mon December 01 1997 jhar

	* msw-init.el: Provide default bindings for cut, paste, copy and undo

	* event-msw.c, event-msw.h, frame-msw.c, msw-proc.c:
	  - Implemeted simple emacs_mswindows_event_pending_p().
	  - Fixed deleting frames.
	  - Rewrote timeout code, eliminating "!NILP(rest)" bug.
	  - Special processing for 'Ctrl-@' keystroke.
	  - Support for some new keysyms.
	
Mon December 01 1997 jhar

	* xemacs.mak:
	  - Add PACKAGE_PATH and EMACS_BETA_VERSION defines.
	  - Automatically copy changed include files from \nt to \src.
	  - Corrected some DOC_SRC* lists.
  
Tue November 18 21:45:06 1997 davidh

	* xemacs.mak updated to remove dependency on startup.elc
	  HAVE_IMAGEMAGICK added for X build.

Thu September 25 23:06:44 1997 davidh

	* xemacs.mak updated to make the build as simple as typing
	  nmake -f xemacs.mak. Also support for native gui included 
	  which should mean the w32 directory is no longer required.

	* config.h synced with config.h.in from 20.3-b2

	* synced in changes to support native gui.

Thu September 25 23:06:44 1997 davidh

	* August Hill provided a patch to xemacs.mak to greatly simplify
	  the build - the DOC file gets created correctly. 

Tue September 22 23:06:44 1997 davidh

	* August Hill provided some more patches - to expand ~ correctly
          and to correctly deal with drive letters in the path.

	* emacs.c patched to call init_ntproc()


Tue July 15 19:32:21 1997 davidh

        * August Hill provided some more patches to make things better
          - there is a workaround for dired to make the ^M's disappear
          - a patch to fix shell-command

Tue July 08 22:01:36 1997 davidh

        * #ifdef'd call to vfork and replaced with spawn as per GNU Emacs;
          as a result, removed /force - XEmacs now links normally.

Thu June 31 21:16:21 1997 davidh

	* nt/TODO created.

	* nt/X11.patch created to help with the X build.
	
	* August Hill provided:
 	  a patch to fix the _WRETCODE undefined symbol,
	  a patch to fix a problem with dired

	  and generally helped clarify the build instructions.

 	* Synced with 20.3b10 (Athens).

	* Made DIRECTORY_SEP be '\\'. Until I can change all code to
          use the macro, I decided this would be easiest.

	* Modified src/fileio.c to only open files in O_BINARY. This
	  causes files to be opened and written without automatically 
	  writing ^M 's to the end of each line. MULE ought to sort this
          in theory, but I am less than convinced.

	* Updated the nt/README to provide a little more help.

Thu May 29 23:11:21 1997 davidh

	* Synced with 20.3b2.

	* Removed nt/README.src, nt/src.m.windowsnt.h nt/src.s.windowsnt.h.

	* Updated README from marcpa.

	* Added example Win32.cf and site.def files for X.

	* Added sed.exe into nt/.

	* Modified nt/xemacs.mak to pass correct flags to lwlib compile.

	* Added extra .elc files to ensure make-docfile gets all symbols.

	* Modified balloon_help.c to compile (#if'd max definition)

	* Modified src/event-Xt.c so as not to add signal_event_pipe to
          be selected on - this is a hack until I can work out a better
          way. Thanks to Ben Wing for help on this.

Thu Mar 27 20:56:21 1997  marcpa  (marcpa at MARCPA)

	* Synced with 20.1b9.

Sun Mar 16 00:32:15 1997  marcpa  (marcpa at MARCPA)

	* lisp/eterm/README.term is truncated: is it just me (because
	I'm on NT) or everyone else sees this ?
	Answer: it is because it contains a ^Z embedded in it, therefore
	it needs to be inserted in binary mode in CVS.

Thu Mar 13 00:19:25 1997  marcpa  (marcpa at MARCPA)

	* At end of compilation, there are some unresolved symbols: 

link.exe @C:\TEMP\nma00115.
sysdep.obj : error LNK2001: unresolved external symbol _vfork
../src/temacs.exe : warning LNK4088: image being generated due to /FORCE
option; image may not run


Wed Mar 12 23:18:53 1997  marcpa  (marcpa at MARCPA)

	* Need to copy the nt/inc directory David originally submitted or
	NT code won't compile.

	* Need to copy nt/{config.h,paths.h,ad2c.sed,xemacs.mak} in src.

	* Had to modify XEmacs sources here and there : see the diffs
	between NT_FIRST_COMPILE and V20_1_beta9.

	* Needed to patch X11R6.3 sources: (include/x11/Xmd.h:155) BOOL is
	already defined by Windows and is a long, while X wants it to be
	an unsigned char.

--- Xmd.h~	Thu Jun 08 23:20:40 1995
+++ Xmd.h	Sun Mar 16 13:09:10 1997
@@ -150,8 +150,9 @@
 typedef CARD16		BITS16;
 typedef CARD8		BYTE;
 
+#ifndef WIN32
 typedef CARD8           BOOL;
-
+#endif

	* cpp.exe not used: cl.exe from VC++4.2 seems to handle everything
	properly. 

NOTES:

Compilation with nmake -f xemacs.mak.

Using X11R6.3 for NT.

Work started with 20.1b2.

Local Variables:
mode: change-log
End:
